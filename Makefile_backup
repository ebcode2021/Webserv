# PROGRAM_NAME
NAME = webserv

# VARIABLE
CC = c++
CFLAGS = -Wall -Wextra -Werror -std=c++98
RM = rm -rf

# PHILOSOPHERS_SRC
SRCS =  main.cpp	\
		utility/error.cpp	\
		utility/utils.cpp	\
		utility/validate.cpp	\
		utility/validateUtils.cpp\
		classes/Config.cpp	\
		classes/LocationBlock.cpp	\
		classes/ServerBlock.cpp		\
		classes/ErrorPage.cpp		\
		classes/LimitExcept.cpp		\
		classes/ServerInfo.cpp		\
		classes/TcpSocket.cpp		\
		classes/KqueueHandler.cpp	\
		classes/SocketEventHandler.cpp \
		classes/SessionStorage.cpp	\
		classes/CgiInfo.cpp			\
		classes/CgiMetadata.cpp		\
		http/request/HttpRequest.cpp \
		http/request/HttpRequestHeader.cpp \
		http/request/HttpRequestLine.cpp \
		http/response/HttpResponse.cpp \
		http/HttpStatus.cpp \
		http/PathInfo.cpp \
		http/response/HttpResponseLine.cpp \
		http/response/HttpResponseHeader.cpp \
		http/HttpBody.cpp	\
		http/HttpSession.cpp	\
		server/server.cpp


SRCS_DIR = src/
SRCS_PATH = $(addprefix $(SRCS_DIR), $(SRCS))

INCLUDE_DIRS = includes/				\
			   includes/classes/		\
			   includes/common/			\
			   includes/utility/		\
			   includes/http/			\
			   includes/http/common/	\
			   includes/http/request/	\
			   includes/http/response/	\
			   includes/classes/server/	\
			   includes/classes/config/	\
			   includes/classes/kq		







OBJS = $(SRCS_PATH:.cpp=.o)



# COMMANDS
%.o : %.cpp
	@echo "$(YELLOW) *** Generating push_swap objects... *** $(DEFAULT)"
	$(CC) $(CFLAGS) -c $< -o $@ $(addprefix -I, $(INCLUDE_DIRS))

$(NAME) : $(OBJS)
	@echo "$(GREEN) *** Compiling philo ... *** $(DEFAULT)"
	$(CC) $(CFLAGS) -o $(NAME) $(OBJS)
	make clean
	@echo "$(GREEN) *** Compile Done!! *** $(DEFAULT)"


all : $(NAME)
	@echo "$(GREEN) *** Project Ready! *** $(DEFAULT)"

clean :
	$(RM) $(OBJS)
	@echo "$(RED) *** Deleteing Objects Done! *** $(DEFAULT)"

fclean : clean
	$(RM) $(NAME)
	@echo "$(RED) *** Delete Program Done! *** $(DEFAULT)"

re :
	make fclean
	make all
	make clean


.PHONY : all clean fclean re

# COLORS
RED = \033[1;31m
GREEN = \033[1;32m
YELLOW = \033[1;33m
DEFAULT = \033[0m